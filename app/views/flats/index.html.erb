<div class="bg-white p-3">
  <div class="container">
      <% if @query %>
        <h1>You searched for <strong><%= @query %></strong>. We found <%= @flats.count %> flats out of our <%= Flat.count %> on our website.</h1>
      <% else %>
        <h1>All <%= Flat.count %> flats.</h1>
      <% end %>


    <div class="d-flex row justify-content-center">
      <% @flats.each do |flat| %>
        <div class="card col-md-4 m-3 p-0" style="width: 18rem;">
          <%= link_to flat_path(flat.id), class:"text-decoration-none text-dark" do %>
            <img class="card-img-top" src="<%= flat.url_img %>" style ="height: 200px; object-fit: cover;">
            <div class="card-body">
              <h5 class="card-title"><strong><%= flat.name %></strong></h5>
              <p class="card-text"><%= flat.address %></p>
              <div class="card-text d-flex">
                <div class="nb-guest">
                  <i class="fa-solid fa-user-group"></i><%= flat.number_of_guests %>
                </div>
                <div class="price-night mx-3">
                  <i class="fa-solid fa-euro-sign"></i><%= flat.price_per_night %>
                </div>
              </div>
              <div class="mt-3">
                <%= link_to "More Info", flat_path(flat.id), class: "card-link text-primary" %>
                <%= link_to "Edit", edit_flat_path(flat.id), class: "card-link text-warning" %>
                <%= link_to "Delete", flat_path(flat),
                                      method: :delete,
                                      data: { confirm: "Are you sure?" },
                                     class: "card-link text-danger" %>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>

    </div>
  </div>
</div>
